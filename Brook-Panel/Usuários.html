<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usu√°rios - Brook Panel</title>
    <link rel="stylesheet" href="../Style/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="profile-avatar" id="avatar">BK</div>
                <div class="profile-info">
                    <h1>Brooklyn Stock System</h1>
                    <p>Gerenciamento Avan√ßado de Estoque de Perif√©ricos</p>
                </div>
            </div>
        </header>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('overview')">Vis√£o Geral</button>
            <button class="tab" onclick="switchTab('company')">Dados da Empresa</button>
            <button class="tab" onclick="switchTab('reports')">Relat√≥rios</button>
            <button class="tab" onclick="switchTab('analytics')">Analytics</button>
        </div>

        <div id="overview" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number" id="totalProducts">2,847</span>
                    <span class="stat-label">Produtos em Estoque</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="lowStock">23</span>
                    <span class="stat-label">Estoque Baixo</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="totalValue">R$ 485.2K</span>
                    <span class="stat-label">Valor Total</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="monthlyGrowth">+12.5%</span>
                    <span class="stat-label">Crescimento Mensal</span>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üìä</div>
                        <h3 class="card-title">Vendas Mensais</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="salesChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üéØ</div>
                        <h3 class="card-title">Categorias Mais Vendidas</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div id="company" class="tab-content">
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üè¢</div>
                        <h3 class="card-title">Informa√ß√µes da Empresa</h3>
                    </div>
                    <form id="companyForm">
                        <div class="form-group">
                            <label class="form-label">Raz√£o Social</label>
                            <input type="text" class="form-input" value="Brooklyn Perif√©ricos LTDA" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">CNPJ</label>
                            <input type="text" class="form-input" value="12.345.678/0001-90" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Inscri√ß√£o Estadual</label>
                            <input type="text" class="form-input" value="123.456.789.123" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Endere√ßo</label>
                            <input type="text" class="form-input" value="Rua das Tecnologias, 1234 - Tech District">
                        </div>
                        <button type="button" class="btn" onclick="updateCompanyInfo()">Atualizar Informa√ß√µes</button>
                    </form>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üí∞</div>
                        <h3 class="card-title">Faturamento</h3>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%"></div>
                    </div>
                    <p>Meta Anual: R$ 2.500.000,00</p>
                    <p>Atual: R$ 1.875.000,00 (75%)</p>
                    
                    <div style="margin-top: 2rem;">
                        <div class="report-item">
                            <span>Faturamento Janeiro</span>
                            <span class="report-value">R$ 156.8K</span>
                        </div>
                        <div class="report-item">
                            <span>Faturamento Fevereiro</span>
                            <span class="report-value">R$ 187.2K</span>
                        </div>
                        <div class="report-item">
                            <span>Faturamento Mar√ßo</span>
                            <span class="report-value">R$ 203.5K</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="reports" class="tab-content">
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üìà</div>
                        <h3 class="card-title">Performance de Vendas</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üìã</div>
                        <h3 class="card-title">Relat√≥rios Gerados</h3>
                    </div>
                    <div>
                        <div class="report-item">
                            <div>
                                <strong>Relat√≥rio de Estoque</strong>
                                <div class="report-date">15/05/2025</div>
                            </div>
                            <button class="btn" style="padding: 0.5rem 1rem; font-size: 0.9rem;">Download</button>
                        </div>
                        <div class="report-item">
                            <div>
                                <strong>An√°lise de Vendas Q1</strong>
                                <div class="report-date">10/04/2025</div>
                            </div>
                            <button class="btn" style="padding: 0.5rem 1rem; font-size: 0.9rem;">Download</button>
                        </div>
                        <div class="report-item">
                            <div>
                                <strong>Produtos Mais Vendidos</strong>
                                <div class="report-date">05/04/2025</div>
                            </div>
                            <button class="btn" style="padding: 0.5rem 1rem; font-size: 0.9rem;">Download</button>
                        </div>
                    </div>
                    <button class="btn" onclick="generateReport()" style="width: 100%; margin-top: 1rem;">Gerar Novo Relat√≥rio</button>
                </div>
            </div>
        </div>

        <div id="analytics" class="tab-content">
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üîç</div>
                        <h3 class="card-title">An√°lise de Produtos</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="productAnalyticsChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">‚ö°</div>
                        <h3 class="card-title">M√©tricas em Tempo Real</h3>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-number" id="realTimeVisitors">87</span>
                            <span class="stat-label">Visitantes Online</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="realTimeSales">R$ 12.4K</span>
                            <span class="stat-label">Vendas Hoje</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="conversionRate">3.2%</span>
                            <span class="stat-label">Taxa Convers√£o</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="avgOrderValue">R$ 245</span>
                            <span class="stat-label">Ticket M√©dio</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="notification" id="notification">
        <span id="notificationText"></span>
    </div>

    <script>
        // Initialize Charts
        function initCharts() {
            // Sales Chart
            const salesCtx = document.getElementById('salesChart').getContext('2d');
            new Chart(salesCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'Vendas (R$)',
                        data: [156800, 187200, 203500, 198300, 223400, 245600],
                        borderColor: '#31d5de',
                        backgroundColor: 'rgba(49, 213, 222, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#f5f3ee'
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                color: '#f5f3ee',
                                callback: function(value) {
                                    return 'R$ ' + (value/1000).toFixed(0) + 'K';
                                }
                            },
                            grid: {
                                color: 'rgba(245, 243, 238, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#f5f3ee'
                            },
                            grid: {
                                color: 'rgba(245, 243, 238, 0.1)'
                            }
                        }
                    }
                }
            });

            // Category Chart
            const categoryCtx = document.getElementById('categoryChart').getContext('2d');
            new Chart(categoryCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Mouses', 'Teclados', 'Headsets', 'Monitores', 'Webcams'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: [
                            '#31d5de',
                            '#1c31a5',
                            '#f5f3ee',
                            'rgba(49, 213, 222, 0.7)',
                            'rgba(28, 49, 165, 0.7)'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#f5f3ee'
                            }
                        }
                    }
                }
            });

            // Performance Chart
            const performanceCtx = document.getElementById('performanceChart').getContext('2d');
            new Chart(performanceCtx, {
                type: 'bar',
                data: {
                    labels: ['Q1 2024', 'Q2 2024', 'Q3 2024', 'Q4 2024', 'Q1 2025'],
                    datasets: [{
                        label: 'Receita',
                        data: [547300, 623400, 598200, 712500, 687900],
                        backgroundColor: 'rgba(49, 213, 222, 0.8)',
                        borderColor: '#31d5de',
                        borderWidth: 1
                    }, {
                        label: 'Meta',
                        data: [500000, 600000, 650000, 700000, 750000],
                        backgroundColor: 'rgba(28, 49, 165, 0.8)',
                        borderColor: '#1c31a5',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#f5f3ee'
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                color: '#f5f3ee',
                                callback: function(value) {
                                    return 'R$ ' + (value/1000).toFixed(0) + 'K';
                                }
                            },
                            grid: {
                                color: 'rgba(245, 243, 238, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#f5f3ee'
                            },
                            grid: {
                                color: 'rgba(245, 243, 238, 0.1)'
                            }
                        }
                    }
                }
            });

            // Product Analytics Chart
            const productAnalyticsCtx = document.getElementById('productAnalyticsChart').getContext('2d');
            new Chart(productAnalyticsCtx, {
                type: 'radar',
                data: {
                    labels: ['Qualidade', 'Pre√ßo', 'Disponibilidade', 'Demanda', 'Margem', 'Satisfa√ß√£o'],
                    datasets: [{
                        label: 'Mouses Gaming',
                        data: [85, 70, 90, 95, 75, 88],
                        borderColor: '#31d5de',
                        backgroundColor: 'rgba(49, 213, 222, 0.2)',
                        pointBackgroundColor: '#31d5de'
                    }, {
                        label: 'Teclados Mec√¢nicos',
                        data: [90, 60, 85, 80, 85, 92],
                        borderColor: '#1c31a5',
                        backgroundColor: 'rgba(28, 49, 165, 0.2)',
                        pointBackgroundColor: '#1c31a5'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#f5f3ee'
                            }
                        }
                    },
                    scales: {
                        r: {
                            ticks: {
                                color: '#f5f3ee'
                            },
                            grid: {
                                color: 'rgba(245, 243, 238, 0.1)'
                            },
                            pointLabels: {
                                color: '#f5f3ee'
                            }
                        }
                    }
                }
            });
        }

        // Tab switching
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Show notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Update company info
        function updateCompanyInfo() {
            showNotification('Informa√ß√µes da empresa atualizadas com sucesso!');
        }

        // Generate report
        function generateReport() {
            showNotification('Relat√≥rio sendo gerado... Voc√™ receber√° uma notifica√ß√£o quando estiver pronto!');
        }

        // Real-time data simulation
        function updateRealTimeData() {
            const visitors = document.getElementById('realTimeVisitors');
            const sales = document.getElementById('realTimeSales');
            const conversion = document.getElementById('conversionRate');
            const avgOrder = document.getElementById('avgOrderValue');
            
            // Simulate random changes
            visitors.textContent = Math.floor(Math.random() * 50) + 70;
            sales.textContent = 'R$ ' + (Math.random() * 5 + 10).toFixed(1) + 'K';
            conversion.textContent = (Math.random() * 2 + 2).toFixed(1) + '%';
            avgOrder.textContent = 'R$ ' + Math.floor(Math.random() * 100 + 200);
        }

        // Animate numbers on page load
        function animateNumbers() {
            const numbers = document.querySelectorAll('.stat-number');
            numbers.forEach(number => {
                const target = number.textContent;
                number.textContent = '0';
                
                // Simple counter animation
                let current = 0;
                const increment = 1;
                const timer = setInterval(() => {
                    if (current < 100) {
                        current += increment;
                        number.style.transform = `scale(${1 + current / 1000})`;
                    } else {
                        clearInterval(timer);
                        number.textContent = target;
                        number.style.transform = 'scale(1)';
                    }
                }, 20);
            });
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initCharts();
            animateNumbers();
            
            // Update real-time data every 5 seconds
            setInterval(updateRealTimeData, 5000);
            
            // Add hover effects to cards
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-10px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });

            // Add click animation to buttons
            document.querySelectorAll('.btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                });
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        switchTab('overview');
                        break;
                    case '2':
                        e.preventDefault();
                        switchTab('company');
                        break;
                    case '3':
                        e.preventDefault();
                        switchTab('reports');
                        break;
                    case '4':
                        e.preventDefault();
                        switchTab('analytics');
                        break;
                }
            }
        });

        // Progressive loading effect
        function addProgressiveLoading() {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(50px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.6s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 150);
            });
        }

        // Add loading effect on tab switch
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            if (event && event.target) {
                event.target.classList.add('active');
            } else {
                // For keyboard shortcuts
                document.querySelector(`[onclick="switchTab('${tabName}')"]`).classList.add('active');
            }
            
            // Add progressive loading to new tab
            setTimeout(() => addProgressiveLoading(), 100);
        }

        // Enhanced real-time updates with WebSocket simulation
        function simulateWebSocketUpdates() {
            const events = [
                'Nova venda registrada: Mouse Gamer Pro',
                'Estoque baixo: Teclado Mec√¢nico RGB',
                'Novo cliente cadastrado',
                'Meta mensal atingida em 89%',
                'Produto em destaque: Headset Wireless'
            ];
            
            setInterval(() => {
                const randomEvent = events[Math.floor(Math.random() * events.length)];
                
                // Create floating notification
                const floatingNotif = document.createElement('div');
                floatingNotif.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    left: 20px;
                    background: linear-gradient(135deg, #31d5de, #1c31a5);
                    color: white;
                    padding: 1rem;
                    border-radius: 10px;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                    transform: translateX(-400px);
                    transition: all 0.5s ease;
                    z-index: 1001;
                    max-width: 300px;
                `;
                floatingNotif.textContent = randomEvent;
                document.body.appendChild(floatingNotif);
                
                setTimeout(() => {
                    floatingNotif.style.transform = 'translateX(0)';
                }, 100);
                
                setTimeout(() => {
                    floatingNotif.style.transform = 'translateX(-400px)';
                    setTimeout(() => {
                        document.body.removeChild(floatingNotif);
                    }, 500);
                }, 4000);
                
            }, 15000); // Every 15 seconds
        }

        // Advanced chart interactions
        function addChartInteractions() {
            // Add click handlers to chart elements
            Chart.defaults.interaction.intersect = false;
            Chart.defaults.interaction.mode = 'index';
            
            // Custom tooltip styling
            Chart.defaults.plugins.tooltip.backgroundColor = 'rgba(26, 26, 26, 0.95)';
            Chart.defaults.plugins.tooltip.titleColor = '#31d5de';
            Chart.defaults.plugins.tooltip.bodyColor = '#f5f3ee';
            Chart.defaults.plugins.tooltip.borderColor = '#31d5de';
            Chart.defaults.plugins.tooltip.borderWidth = 1;
            Chart.defaults.plugins.tooltip.cornerRadius = 10;
        }

        // Data export functionality
        function exportData(format) {
            const data = {
                overview: {
                    totalProducts: 2847,
                    lowStock: 23,
                    totalValue: 485200,
                    monthlyGrowth: 12.5
                },
                sales: [156800, 187200, 203500, 198300, 223400, 245600],
                categories: {
                    'Mouses': 35,
                    'Teclados': 25,
                    'Headsets': 20,
                    'Monitores': 15,
                    'Webcams': 5
                }
            };

            if (format === 'json') {
                const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'brooklyn_data.json';
                a.click();
                URL.revokeObjectURL(url);
            } else if (format === 'csv') {
                let csv = 'Categoria,Valor\n';
                Object.entries(data.categories).forEach(([key, value]) => {
                    csv += `${key},${value}\n`;
                });
                
                const blob = new Blob([csv], {type: 'text/csv'});
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'brooklyn_categories.csv';
                a.click();
                URL.revokeObjectURL(url);
            }
            
            showNotification(`Dados exportados em formato ${format.toUpperCase()}!`);
        }

        // Add export buttons
        function addExportButtons() {
            const exportContainer = document.createElement('div');
            exportContainer.style.cssText = `
                position: fixed;
                top: 20px;
                left: 20px;
                display: flex;
                gap: 10px;
                z-index: 1000;
            `;
            
            const exportJsonBtn = document.createElement('button');
            exportJsonBtn.textContent = 'Export JSON';
            exportJsonBtn.className = 'btn';
            exportJsonBtn.style.cssText = 'padding: 0.5rem 1rem; font-size: 0.8rem;';
            exportJsonBtn.onclick = () => exportData('json');
            
            const exportCsvBtn = document.createElement('button');
            exportCsvBtn.textContent = 'Export CSV';
            exportCsvBtn.className = 'btn';
            exportCsvBtn.style.cssText = 'padding: 0.5rem 1rem; font-size: 0.8rem;';
            exportCsvBtn.onclick = () => exportData('csv');
            
            exportContainer.appendChild(exportJsonBtn);
            exportContainer.appendChild(exportCsvBtn);
            document.body.appendChild(exportContainer);
        }

        // Enhanced initialization
        document.addEventListener('DOMContentLoaded', function() {
            initCharts();
            addChartInteractions();
            animateNumbers();
            addProgressiveLoading();
            addExportButtons();
            
            // Start real-time updates
            setInterval(updateRealTimeData, 5000);
            simulateWebSocketUpdates();
            
            // Enhanced card interactions
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-10px) scale(1.02)';
                    this.style.boxShadow = '0 20px 40px rgba(49, 213, 222, 0.2)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                    this.style.boxShadow = '0 10px 30px rgba(0,0,0,0.2)';
                });
            });

            // Enhanced button interactions
            document.querySelectorAll('.btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    
                    // Add ripple effect
                    const ripple = document.createElement('span');
                    ripple.style.cssText = `
                        position: absolute;
                        border-radius: 50%;
                        background: rgba(255,255,255,0.3);
                        transform: scale(0);
                        animation: ripple 0.6s linear;
                        pointer-events: none;
                    `;
                    
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    ripple.style.width = ripple.style.height = size + 'px';
                    ripple.style.left = (event.clientX - rect.left - size / 2) + 'px';
                    ripple.style.top = (event.clientY - rect.top - size / 2) + 'px';
                    
                    this.style.position = 'relative';
                    this.style.overflow = 'hidden';
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                        if (ripple.parentNode) {
                            ripple.parentNode.removeChild(ripple);
                        }
                    }, 150);
                });
            });

            // Add CSS for ripple animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes ripple {
                    to {
                        transform: scale(4);
                        opacity: 0;
                    }
                }
                
                .card {
                    backdrop-filter: blur(10px);
                    -webkit-backdrop-filter: blur(10px);
                }
                
                .form-input:focus {
                    transform: translateY(-2px);
                }
                
                @media (prefers-reduced-motion: reduce) {
                    *, *::before, *::after {
                        animation-duration: 0.01ms !important;
                        animation-iteration-count: 1 !important;
                        transition-duration: 0.01ms !important;
                    }
                }
            `;
            document.head.appendChild(style);

            console.log('Brooklyn Stock System - Profile Dashboard Loaded Successfully! üöÄ');
            console.log('Keyboard shortcuts: Ctrl+1,2,3,4 for tab navigation');
        });
    </script>
</body>
</html>